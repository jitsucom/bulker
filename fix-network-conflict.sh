#!/bin/bash

echo "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ Docker"
echo "========================================"

echo "1. –¢–µ–∫—É—â–∏–µ Docker —Å–µ—Ç–∏:"
docker network ls

echo ""
echo "2. –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç—è—Ö:"
docker network ls --format "table {{.Name}}\t{{.Driver}}\t{{.Scope}}" | grep -v "SCOPE"

echo ""
echo "3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–¥—Å–µ—Ç–µ–π:"
docker network ls -q | xargs docker network inspect | grep -E '"Subnet"|"Name"' | grep -A1 -B1 "172.20"

echo ""
echo "4. –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ç–µ–π:"
echo "   –í—ã–ø–æ–ª–Ω–∏—Ç–µ: docker network prune"

echo ""
echo "5. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:"
echo "   a) –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ç–∏: docker network prune"
echo "   b) –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–µ—Ç—å (—É–¥–∞–ª–∏—Ç—å custom network –∏–∑ compose)"
echo "   c) –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Å–µ—Ç—å –Ω–∞ —Å–≤–æ–±–æ–¥–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, 172.25.0.0/16)"